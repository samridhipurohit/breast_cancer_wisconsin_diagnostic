#Rule to build the report
report.html: report.Rmd output3/random_numbers3.rds
	Rscript code/04_render_report.R

#Step 1: Generate the first random dataset
output1/random_numbers1.rds: code/01_make_output1.R
	Rscript code/01_make_output1.R

#Step 2: Combine the first dataset with a new random one
output2/random_numbers2.rds: output1/random_numbers1.rds code/02_make_output2.R
	Rscript code/02_make_output2.R

#Step 3: Add one more layer of random number
output3/random_numbers3.rds: output2/random_numbers2.rds code/03_make_output3.R
	Rscript code/03_make_output3.R

#Phony target to prevent file conflicts
.PHONY: clean
clean:
	rm -f output1/*.rds output2/*.rds output3/*.rds report.html
